{"version":3,"file":"TrackSelector.fixtures.559ceb7f.js","sources":["../../../src/features/testimonials/list/TrackSelector.jsx","../../../src/features/testimonials/list/TrackSelector.fixtures.js"],"sourcesContent":["import \"./TrackSelector.css\";\nimport { Dropdown, Pill, TrackIcon } from \"/src/components\";\nimport { useState, useMemo } from \"react\";\n\nconst ALL_TRACKS_ICON_URL =\n  \"https://d24y9kuxp2d7l2.cloudfront.net/assets/icons/all-tracks-5723af830c1df04c577e2aefdc8003f62c4270ec.svg\";\n\nexport default function TrackSelector({ tracks, selected, onSelect }) {\n  const [open, setOpen] = useState(false);\n\n  const tracksWithAll = useMemo(() => {\n    if (tracks.length < 2) return tracks;\n    const allTracks = {\n      slug: null,\n      title: \"All tracks\",\n      icon_url: ALL_TRACKS_ICON_URL,\n      count: tracks.reduce((acc, track) => acc + track.count, 0),\n    };\n    return [allTracks, ...tracks];\n  }, [tracks]);\n\n  return (\n    <Dropdown.Wrapper\n      element=\"button\"\n      className=\"TrackSelector\"\n      onClick={() => setOpen(!open)}\n    >\n      <TrackIcon\n        src={\n          tracks.find((t) => t.slug === selected)?.icon_url ||\n          ALL_TRACKS_ICON_URL\n        }\n      />\n      <ChevronDown />\n      {open ? (\n        <Dropdown.Menu radio>\n          {tracksWithAll.map((track) => (\n            <Track\n              {...track}\n              selected={track.slug === selected}\n              onClick={onSelect}\n              key={track.slug}\n            />\n          ))}\n        </Dropdown.Menu>\n      ) : null}\n    </Dropdown.Wrapper>\n  );\n}\n\nfunction Track({ title, icon_url, slug, count, selected, onClick }) {\n  return (\n    <Dropdown.Item selected={selected} onClick={() => onClick(slug)}>\n      <TrackIcon src={icon_url} />\n      <h6>{title}</h6>\n      <Pill value={count} />\n    </Dropdown.Item>\n  );\n}\n\nfunction ChevronDown() {\n  return (\n    <svg\n      width=\"15\"\n      height=\"8\"\n      viewBox=\"0 0 15 8\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        d=\"M13.5938 0.960125L7.78708 6.76625C7.71098 6.84246 7.6077 6.88528 7.5 6.88528C7.3923 6.88528 7.28902 6.84246 7.21292 6.76625L1.40625 0.960125\"\n        stroke=\"#5C5589\"\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </svg>\n  );\n}\n","export default [\n  {\n    slug: \"ruby\",\n    title: \"Ruby\",\n    icon_url: \"https://dg8krxphbh767.cloudfront.net/tracks/ruby.svg\",\n    count: 12,\n  },\n  {\n    slug: \"erlang\",\n    title: \"Erlang\",\n    icon_url: \"https://dg8krxphbh767.cloudfront.net/tracks/erlang.svg\",\n    count: 9,\n  },\n  {\n    slug: \"elm\",\n    title: \"Elm\",\n    icon_url: \"https://dg8krxphbh767.cloudfront.net/tracks/elm.svg\",\n    count: 7,\n  },\n];\n"],"names":["ALL_TRACKS_ICON_URL","tracks","selected","onSelect","open","setOpen","useState","tracksWithAll","useMemo","length","slug","title","icon_url","count","reduce","acc","track","_jsxs","_jsx","find","t","map","onClick"],"mappings":"+zBAIA,KAAAA,GACA,6GAEA,WAAA,CAAAC,SAAAC,WAAAC,YAAA,OACA,KAAA,CAAAC,EAAAC,GAAAC,EAAAA,QAAAA,SAAA,EAAA,EAEAC,EAAAC,EAAAA,QAAAA,QAAA,IACAP,EAAAQ,OAAA,EAAAR,EAOA,CANA,CACAS,KAAA,KACAC,MAAA,aACAC,SAAAZ,EACAa,MAAAZ,EAAAa,OAAA,CAAAC,EAAAC,IAAAD,EAAAC,EAAAH,MAAA,CAAA,CAAA,EAEA,GAAAZ,CAAA,EACA,CAAAA,CAAA,CATA,EAYA,MAAAgB,GAAA,EAAA,QAAA,CACA,QAAA,SACA,UAAA,gBACA,QAAA,IAAAZ,EAAA,CAAAD,CAAA,EAHA,SAAA,CAKAc,EAAA,EAAA,CACA,IACAjB,MAAAkB,KAAAC,AAAAA,GAAAA,EAAAV,OAAAR,CAAA,IAAAD,cAAAW,WACAZ,CAAAA,CARA,EAWAkB,EAAA,EAXA,CAAA,CAAA,EAYAd,EACAc,EAAA,EAAA,KAAA,CAAA,MAAA,GAAA,SACAX,EAAAc,IAAAL,AAAAA,2BACA,EAAA,OACAA,GADA,CAEA,SAAAA,EAAAN,OAAAR,EACA,QAAAC,EACA,IAAAa,EAAAN,IAAAA,EALA,CAAA,CADA,CAAA,EAUA,IAvBA,CAAA,CADA,CA2BA,CAEA,WAAA,CAAAC,QAAAC,WAAAF,OAAAG,QAAAX,WAAAoB,WAAA,CAEA,MAAAL,GAAA,EAAA,KAAA,CAAA,WAAA,QAAA,IAAAK,EAAAZ,CAAA,EAAA,SAAA,CACAQ,EAAA,EAAA,CAAA,IAAAN,CAAAA,CAAA,EACAM,EAAA,KAAA,CAAA,SAAAP,CAAAA,CAFA,EAGAO,EAAA,EAAA,CAAA,MAAAL,CAAAA,CAHA,CAAA,CAAA,CADA,CAOA,CAEA,YAAA,CACA,SACA,MAAA,CACA,MAAA,KACA,OAAA,IACA,QAAA,WACA,KAAA,OACA,MAAA,6BALA,WAOA,OAAA,CACA,EAAA,+IACA,OAAA,UACA,YAAA,MACA,cAAA,QACA,eAAA,OAAA,CALA,CAAA,CARA,CAiBA,wEC9EA,GAAe,GAAA,CACb,CACE,KAAM,OACN,MAAO,OACP,SAAU,uDACV,MAAO,EACR,EACD,CACE,KAAM,SACN,MAAO,SACP,SAAU,yDACV,MAAO,CACR,EACD,CACE,KAAM,MACN,MAAO,MACP,SAAU,sDACV,MAAO,CACR,CACH"}